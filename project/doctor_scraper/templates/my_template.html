<!DOCTYPE html>
<html>
<head>
  <title>User Actions</title>
</head>
<body>
  <h1>User Actions</h1>

  <button id="register-btn">Register</button>
  <button id="login-btn">Login</button>
  <button id="password-reset-btn">Password Reset</button>
  <button id="user-profile-update-btn">User Profile Update</button>

  <div id="register-form" style="display: none;">
    <h2>Register</h2>
    <form id="register-form">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>
      
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      
      <label for="confirm-password">Confirm Password:</label>
      <input type="password" id="confirm-password" name="confirm-password" required>
      
      <!-- Additional registration fields can be added here -->
      
      <button type="submit">Register</button>
    </form>
  </div>

  <div id="login-form" style="display: none;">
    <h2>Login</h2>
    <form id="login-form">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" required>
      
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      
      <button type="submit">Login</button>
    </form>
  </div>

  <div id="password-reset-form" style="display: none;">
    <h2>Password Reset</h2>
    <form id="password-reset-form">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      
      <button type="submit">Reset Password</button>
    </form>
  </div>

  <div id="user-profile-update-form" style="display: none;">
    <h2>User Profile Update</h2>
    <form id="user-profile-update-form">
      <!-- Add the necessary input fields for updating the user profile -->
      
      <button type="submit">Update Profile</button>
    </form>
  </div>

  <script>
    const registerBtn = document.getElementById('register-btn');
    const loginBtn = document.getElementById('login-btn');
    const passwordResetBtn = document.getElementById('password-reset-btn');
    const userProfileUpdateBtn = document.getElementById('user-profile-update-btn');
    const registerForm = document.getElementById('register-form');
    const loginForm = document.getElementById('login-form');
    const passwordResetForm = document.getElementById('password-reset-form');
    const userProfileUpdateForm = document.getElementById('user-profile-update-form');

    registerBtn.addEventListener('click', () => {
      registerForm.style.display = 'block';
      loginForm.style.display = 'none';
      passwordResetForm.style.display = 'none';
      userProfileUpdateForm.style.display = 'none';
    });

    loginBtn.addEventListener('click', () => {
      registerForm.style.display = 'none';
      loginForm.style.display = 'block';
      passwordResetForm.style.display = 'none';
      userProfileUpdateForm.style.display = 'none';
    });

    passwordResetBtn.addEventListener('click', () => {
      registerForm.style.display = 'none';
      loginForm.style.display = 'none';
      passwordResetForm.style.display = 'block';
      userProfileUpdateForm.style.display = 'none';
    });

    userProfileUpdateBtn.addEventListener('click', () => {
      registerForm.style.display = 'none';
      loginForm.style.display = 'none';
      passwordResetForm.style.display = 'none';
      userProfileUpdateForm.style.display = 'block';
    });

    const registerFormElement = document.getElementById('register-form');
    const loginFormElement = document.getElementById('login-form');
    const passwordResetFormElement = document.getElementById('password-reset-form');
    const userProfileUpdateFormElement = document.getElementById('user-profile-update-form');

    registerFormElement.addEventListener('submit', (event) => {
      event.preventDefault();

       const registerFormElement = document.getElementById('register-form');

    registerFormElement.addEventListener('submit', (event) => {
      event.preventDefault();

      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirm-password').value;

      // Perform validation on the input fields
      if (password !== confirmPassword) {
        alert("Passwords do not match!");
        return;
      }

      // Make a POST request to your registration API endpoint
      fetch('http://127.0.0.1:8000/users/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          username: username,
          password: password
          // Include additional registration fields if needed
        })
      })
      .then(response => {
        if (response.ok) {
          // Registration success logic
          alert('Registration successful!');
        } else {
          // Registration error logic
          alert('Registration failed.');
        }
      })
      .catch(error => {
        // Error handling logic
        console.error('Error:', error);
      });
    });
    });

    loginFormElement.addEventListener('submit', (event) => {
      event.preventDefault();

      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;

      // Make a POST request to your login API endpoint
      fetch('http://127.0.0.1:8000/user', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          username: username,
          password: password
        })
      })
      .then(response => {
        if (response.ok) {
          // Login success logic
          alert('Login successful!');
        } else {
          // Login error logic
          alert('Login failed.');
        }
      })
      .catch(error => {
        // Error handling logic
        console.error('Error:', error);
      });
    });



    userProfileUpdateFormElement.addEventListener('submit', (event) => {
      event.preventDefault();

      // Get the updated values from the input fields

      // Make a PUT request to your user profile update API endpoint
      fetch('http://127.0.0.1:8000/user/profile', {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          // Include the updated profile data
        })
      })
      .then(response => {
        if (response.ok) {
          // Profile update success logic
          alert('Profile update successful!');
        } else {
          // Profile update error logic
          alert('Profile update failed.');
        }
      })
      .catch(error => {
        // Error handling logic
        console.error('Error:', error);
      });
    });
  </script>
</body>
</html>
